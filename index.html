<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>タスク管理アプリ</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- ①メイン画面 -->
    <div id="screen1" class="screen active">
        <div class="header">
            <div class="status" id="taskStatus">現在：0/0 タスク完了</div>
            <button class="btn btn-calendar" onclick="showCalendar()">カレンダーを表示</button>
        </div>
        
        <!-- 現在進行中のタスク -->
        <div class="task-section">
            <h3>現在進行中のタスク</h3>
            <div id="activeTaskList"></div>
        </div>
        
        <!-- 達成済み・時間切れタスク -->
        <div class="task-section">
            <div class="section-header">
                <h3>達成済み・時間切れタスク</h3>
                <button class="btn btn-danger btn-small" id="bulkDeleteBtn" onclick="bulkDeleteFinishedTasks()" style="display: none;">一括削除</button>
            </div>
            <div id="finishedTaskList"></div>
        </div>
        
        <button class="add-button" onclick="showAddScreen()">+</button>
    </div>

    <!-- ②入力画面 -->
    <div id="screen2" class="screen">
        <div class="button-group-top">
            <button class="btn btn-secondary" onclick="goToMain()">戻る</button>
            <button class="btn btn-danger" id="deleteBtn" style="display:none;" onclick="deleteTask()">予定を削除</button>
            <button class="btn btn-primary" id="saveBtn" onclick="saveTask()">追加</button>
        </div>

        <div class="form-group">
            <label for="taskName">名前</label>
            <input type="text" id="taskName" placeholder="タスク名を入力">
        </div>
        
        <div class="form-group">
            <label>期限</label>
            <div class="date-time-row">
                <div class="date-time-group">
                    <input type="date" id="startDate">
                    <input type="time" id="startTime">
                </div>
                <span class="from-to">から</span>
                <div class="date-time-group">
                    <input type="date" id="endDate">
                    <input type="time" id="endTime">
                </div>
            </div>
        </div>
        
        <div class="form-group">
            <label for="taskComment">コメント</label>
            <textarea id="taskComment" placeholder="コメントを入力"></textarea>
        </div>
    </div>

    <!-- ③編集画面 -->
    <div id="screen3" class="screen">
        <div class="edit-buttons">
            <button class="btn btn-primary btn-large" onclick="editTask()">タスクを編集</button>
            <button class="btn btn-primary btn-large" onclick="completeTask()">タスク終了！！</button>
            <button class="btn btn-secondary btn-large" onclick="goToMain()">戻る</button>
        </div>
    </div>

    <!-- ④カレンダー画面 -->
    <div id="screen4" class="screen">
        <div class="calendar-header">
            <button class="btn btn-secondary" onclick="goToMain()">リストに戻る</button>
            <div class="month-navigation">
                <button class="btn btn-small" onclick="changeMonth(-1)">←</button>
                <span id="currentMonth"></span>
                <button class="btn btn-small" onclick="changeMonth(1)">→</button>
            </div>
        </div>
        
        <div class="calendar-grid" id="calendarGrid"></div>
        
        <button class="add-button" onclick="showAddScreen()">+</button>
    </div>

    <!-- 完了ポップアップ -->
    <div id="completionPopup" class="popup">
        <div class="popup-content">
            <h3>課題が完了しました！！やったね！！</h3>
            <button class="btn btn-primary" onclick="closePopup()">OK</button>
        </div>
    </div>

    <!-- ツールチップ -->
    <div id="tooltip" class="tooltip"></div>

    <script src="script.js"></script>
</body>
</html>
